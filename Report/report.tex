\documentclass{article}
\usepackage{xurl}
\usepackage{hyperref}
\hypersetup{colorlinks=true, linkcolor=blue, urlcolor=blue}
\usepackage{geometry}
\setlength{\parindent}{0pt}
\title{\Huge Khidmat Report\\
\textit{WWF Bird Recognition Model}}
\author{Ali Hamza\\ ah05084
  \and
  Ali Haider Rizvi\\ xy09876
  \and
  M. Usaid Rehman\\ mr04302
}
\date{}  
\begin{document}
\maketitle
\newpage
\tableofcontents
\newpage
\section{Introduction}
% Use first person plural (we, us) even if you did the Khidmat individually.
\subsection{Project Description}
\setlength{\parindent}{3em}
% An introduction of the project, no more than 2 sentences. Provide the highest level of detail only. Other details will come later.
% Typically, "This project is to <short description of porject> for/at <client>."
This project is aimed at creating and deploying a deep learning pipeline for WWF Pakistan to classify images of 
three different species of birds -- namely: common myna, house crow, and the house sparrow. This project 
would serve as a proof-of-concept for a larger model that WWF can use to classify a larger number of birds 
using a mobile application.

\subsection{About WWF Pakistan}
The World Wildlife Fund for Nature (WWF) is an international non-governmental organization
founded in 1961 that primarily works in the areas of wildlife conservation and preservation.
WWF also works in the domains of food security, renewable energy, ocean and forest preservation, 
and many others\footnote{\url{https://wwf.panda.org/}}.

WWF Pakistan is the Pakistan chapter of the World Wildlife Fund, working on similar problems as 
WWF International but in a more local context. WWF has more than five regional offices 
throughout the country, and has conducted several successful 
projects pertaining to freshwater conservation, water security, forests, climate change and others.
What they are most known for, however, is wildlife conservation --- the area that we 
have assisted WWF in.

\subsection{Project Background \& Context}
Keeping track of biodiversity is a challenge in Pakistan due to a lack of resources, personnel 
and governmental support. Pakistan has a plethora of wildlife and a rich and diverse ecosystem. 
WWF Pakistan has helped in the conservation of several endangered species such as the 
Indus River Dolphin and the Snow Leopard --- both of which are now experiencing a rise in numbers. 

However, wildlife preservation and protection extends beyond just the conservation of 
endangered species. Maintaining biodiversity is extremely important for 
wildlife protection and to maintain a healhty ecosystem and environment. Unfortunately, 
a lack of biodiversity is a major crisis that is unfolding across the globe. In order to 
combat this, it is imperative that researches have updated data about species populations, 
habitats, interactions etc. 

An important group of animals that contribute to biodiversity are birds. Therefore, 
it is vital that data pertaining to bird population is collected in Pakistan. 
To assist in this endeavor, WWF aims to enlist the help of citizen scientists who could 
help identify and locate birds and consequently update WWF's database. 

Our project aims to implement a deep learning pipeline that would 
classify images of three different species of birds --- house crow, common 
myna, and the house sparrow. The pipeline would take an image, preprocess it 
to a form that the model can work with, and then classify it using a deep 
neural network --- telling us what species the bird in the image belongs to. 

This pipeline serves as a proof-of-concept for a larger model that 
would be classifying hundreds of species of birds. This model will fit 
into a planned mobile application that citizen scientists can use to spot birds 
and then capture their image. Not only will the application classify the 
species of the bird but it will also update WWF's database, giving them 
access to more data about bird populations and their locations. 

The development of a larger deep learning model and an application is 
beyond the scope of our \textit{Khidmat} due to time restraints. 
We have succesfully implemented a computer vision pipeline for preprocessing 
and a deep neural network for classification for three species of birds.

\subsection{Work Plan}
% About the plan of work.
\newpage % Start the report for each week on a new page.

% Copy-paste this section with necessary modifcations for each week.
\section{Weekly Work Log}
\subsection{\texttt{Week 1: }}
%Short Weekly Summary
\begin{center}
\begin{tabular}{|l|l|l|l|}
  \hline
  \textbf{Item} 	& \textbf{Activity} & \textbf{Time} & \textbf{ID} \\\hline
  
\end{tabular}
    
\end{center}
The total time spent on the Khidmat this week is as follows.    
\begin{center}
    
\begin{tabular}{|l|l|}
  \hline
  \textbf{ID} & \textbf{Total Hours}\\\hline
  st1 & \\\hline
  st2 & \\\hline
  st3 & \\\hline
\end{tabular}
\end{center}
\newpage
\subsection{\texttt{Week 2: }}
%Short Weekly Summary
\begin{center}
\begin{tabular}{|l|l|l|l|}
  \hline
  \textbf{Item} 	& \textbf{Activity} & \textbf{Time} & \textbf{ID} \\\hline
  
\end{tabular}
    
\end{center}
The total time spent on the Khidmat this week is as follows.    
\begin{center}
    
\begin{tabular}{|l|l|}
  \hline
  \textbf{ID} & \textbf{Total Hours}\\\hline
  st1 & \\\hline
  st2 & \\\hline
  st3 & \\\hline
\end{tabular}
\end{center}
\newpage
\subsection{\texttt{Week 3: }}
%Short Weekly Summary
\begin{center}
\begin{tabular}{|l|l|l|l|}
  \hline
  \textbf{Item} 	& \textbf{Activity} & \textbf{Time} & \textbf{ID} \\\hline
  
\end{tabular}
    
\end{center}
The total time spent on the Khidmat this week is as follows.    
\begin{center}
    
\begin{tabular}{|l|l|}
  \hline
  \textbf{ID} & \textbf{Total Hours}\\\hline
  st1 & \\\hline
  st2 & \\\hline
  st3 & \\\hline
\end{tabular}
\end{center}
\newpage
\subsection{\texttt{Week 4: }}
%Short Weekly Summary
\begin{center}
\begin{tabular}{|l|l|l|l|}
  \hline
  \textbf{Item} 	& \textbf{Activity} & \textbf{Time} & \textbf{ID} \\\hline
  
\end{tabular}
    
\end{center}
The total time spent on the Khidmat this week is as follows.    
\begin{center}
    
\begin{tabular}{|l|l|}
  \hline
  \textbf{ID} & \textbf{Total Hours}\\\hline
  st1 & \\\hline
  st2 & \\\hline
  st3 & \\\hline
\end{tabular}
\end{center}
\newpage
\subsection{\texttt{Week 5: }}
%Short Weekly Summar
\begin{center}
\begin{tabular}{|l|l|l|l|}
  \hline
  \textbf{Item} 	& \textbf{Activity} & \textbf{Time} & \textbf{ID} \\\hline
  
\end{tabular}
    
\end{center}
The total time spent on the Khidmat this week is as follows.    
\begin{center}
    
\begin{tabular}{|l|l|}
  \hline
  \textbf{ID} & \textbf{Total Hours}\\\hline
  st1 & \\\hline
  st2 & \\\hline
  st3 & \\\hline
\end{tabular}
\end{center}
\newpage
\subsection{\texttt{Week 6: }}
%Short Weekly Summary
\begin{center}
\begin{tabular}{|l|l|l|l|}
  \hline
  \textbf{Item} 	& \textbf{Activity} & \textbf{Time} & \textbf{ID} \\\hline
  
\end{tabular}
    
\end{center}
The total time spent on the Khidmat this week is as follows.    
\begin{center}
    
\begin{tabular}{|l|l|}
  \hline
  \textbf{ID} & \textbf{Total Hours}\\\hline
  st1 & \\\hline
  st2 & \\\hline
  st3 & \\\hline
\end{tabular}
\end{center}
\newpage
\subsection{\texttt{Week 7: }}
%Short Weekly Summary
\begin{center}
\begin{tabular}{|l|l|l|l|}
  \hline
  \textbf{Item} 	& \textbf{Activity} & \textbf{Time} & \textbf{ID} \\\hline
  
\end{tabular}
    
\end{center}
The total time spent on the Khidmat this week is as follows.    
\begin{center}
    
\begin{tabular}{|l|l|}
  \hline
  \textbf{ID} & \textbf{Total Hours}\\\hline
  st1 & \\\hline
  st2 & \\\hline
  st3 & \\\hline
\end{tabular}
\end{center}
\newpage
\subsection{\texttt{Week 8: }}
%Short Weekly Summary
\begin{center}
\begin{tabular}{|l|l|l|l|}
  \hline
  \textbf{Item} 	& \textbf{Activity} & \textbf{Time} & \textbf{ID} \\\hline
  
\end{tabular}
    
\end{center}
The total time spent on the Khidmat this week is as follows.    
\begin{center}
    
\begin{tabular}{|l|l|}
  \hline
  \textbf{ID} & \textbf{Total Hours}\\\hline
  st1 & \\\hline
  st2 & \\\hline
  st3 & \\\hline
\end{tabular}
\end{center}
\newpage
\section{Conclusion}
\newpage

\section{Technical Overview}
\subsection{Resources}
  The resources that we used for this project can be categorized into two main 
  categories: images, and technologies. Our first step was to acquire a set of images that would 
  function as our dataset. We collected around 550 images for each of the three 
  species of birds --- the house crow, common myna, and the house sparrow. We used 
  several different websites and online databases to find these images, we list 
  these websites below: 
  \begin{enumerate}
    \item \url{https://search.macaulaylibrary.org/catalog?taxonCode=myna&mediaType=p&q=Common\%20Myna}
    \item \url{https://ebird.org/media/catalog?taxonCode=commyn&mediaType=p&sort=rating_rank_desc&q=Common\%20Myna\%20-\%20Acridotheres\%20tristis}
    \item \url{https://ebird.org/media/catalog?taxonCode=houcro1&sort=rating_rank_desc&mediaType=p&regionCode=}
    \item \url{https://search.macaulaylibrary.org/catalog?taxonCode=houcro1&mediaType=p&region=Pakistan\%20(PK)&regionCode=PK&q=House\%20Crow\%20-\%20Corvus\%20splendens}
    \item \url{https://www.kaggle.com/gpiosenka/100-bird-species}
    \item \url{https://search.macaulaylibrary.org/catalog?taxonCode=houspa&mediaType=p&q=House\%20Sparrow}
    \item \url{https://ebird.org/media/catalog?taxonCode=houspa&mediaType=p&sort=rating_rank_desc&q=House\%20Sparrow\%20-\%20Passer\%20domesticus}
    \label{imagelinks}
  \end{enumerate}
  \setlength{\parskip}{1em}
  All collected images can be viewed at \url{https://drive.google.com/drive/folders/18k-roE_VJSB1dcrhvN1y_EosVF7Kb0dY?usp=sharing}.

  To preprocess our images, convert them into a usable dataset, and to create
  our deep learning model, we had to rely on several different preexisting tools.
  We list the tools that we used in this project below:
  \setlength{\parskip}{0em}
  \begin{itemize}
    \item \texttt{Python} --- The primary programming language that we used for this project.
      Most of the other tools that we used are different libraries \& modules for in Python.
    \item \texttt{OpenCV} --- A computer vision module in Python to preprocess the images. 
    \item \texttt{TensorFlow \& Keras} --- A Python library that we used to construct, and then 
      ttrain and test our neural network. 
    \item \texttt{Matplotlib} --- A plotting library for Python, which we used to visualize our
    \item \texttt{Sci-kit learn} --- A Python library for machine learning that we used to 
      construct our training and testing set. 
    \item \texttt{Google Colab} --- We used Colab notebooks to write code and then run code
      using GPU-accelerated computation that is made available using Google Colaboratory.
  \end{itemize}
 
\subsection{Overview of CS Techniques Used}
  This project was an amalgamation of several different aspects of computer science techniques.
  The process can be summarized into 5 main steps:
  \begin{enumerate}
    \item Image Collection
    \item Image Preprocessing 
    \item Construction of Neural Network 
    \item Training the Neural Network
    \item Testing and Optimization
  \end{enumerate}
  
  We briefly expand upon these steps in the following sections. For a more technical 
  description, please view the documentation (LINK HERE). 

  \subsubsection{Image Collection}
  We used the sources listed at~\ref{imagelinks} to collect images of the three species of birds.
  We downloaded approximately 650 images for each birds, which we then filtered
  down to around 550 to maintain uniform image quality. Based on our results, we believe
  the number of images that we have, i.e. the size of our dataset is adequate. 
  
  \subsubsection{Image Preprocessing}
  The next step was to pre-process these images to convert them into a
  usable dataset. 

  % TODO: - write this part: make it slightly detailed but easy to understand 
  %       - include technical details in addendum
  
  \subsubsection{Neural Network Construction}
  Artificial neural networks form the basis for solving most artificial intelligence 
  problems. Image classification is one such problem. Neural networks represent connections 
  between artificial neurons, also called units. These connections are represented as weights 
  in the neural network. These weights are also called parameters and 
  learned by the neural network during supervised learning.

  There are several types of neural networks that are optimal for solving different 
  intelligence problems. Image recognition/classification has been solved using 
  several types of neural networks since the 1980s such as multilayer perceptrons. 
  A newer method to solve image classification problems (and problems generally 
  pertaining to computer vision) is the Convolutional Neural Network (CNN). 
  
  Unlike other neural networks, a CNN takes spatial information about the input image 
  into consideration during learning, allowing it to generally be more accurate. Therefore, 
  we decided to implement a CNN for this project. We first implemented a simplistic 
  CNN using two-dimensional convolutional layers that preexist in TensorFlow. However, 
  we found that our results were not as satisfactory as we hoped for them to be.

  We then opted to implement the Residual Neural Network (ResNet), which is built
  upon the same idea as CNNs but significantly improves accuracy and performance. 
  ResNet utilize skip connections or shortcuts between layers. Specifically, we leveraged 
  TensorFlow's built-in ResNet50 implementation, a variant of ResNet that utilizes 
  48 convolutional layers, a MaxPool layer and an Average Pool layer. 

  After using ResNet50, we use the output of the last AvgPool layer and flatten the output.
  Then we use two flattened fully-connected layers and an output layer to give us our final 
  output. In total, our neural network contained 24,715,779 trainable parameters and 
  53,120 non-trainable parameters. 
  For more technical information on the neural network construction, please see <LINK>.
  
  
  \subsubsection{Training the Neural Network}
  To train neural networks, there are several different methods that optimize 
  the cost function. The most famous of these is the stochastic gradient descent (SGD). 
  SGD is a stochastic approximation of the simpler gradient descent optimization. Gradient 
  descent approximates the gradient for the entire training set at each iteration. However, 
  stochastic gradient descent approximates the gradient for one example in the training set 
  per iteration --- making it much faster. 

  A newer method called minibatch stochastic gradient finds the middle ground between 
  gradient descent and SGD. It approximates the gradient in each iteration using a randomly 
  selected minibatch of training examples. These minibatches are also effective for 
  parellel computation using GPUs. 

  We used the Adaptive Moment Estimation or \textit{Adam} optimization algorithm. Adam is an 
  effective algorithm for problems with sparse gradients such as computer vision problems. 
  This optimization algorithm relies on three hyperparameters: $\alpha, \beta_1, \beta_2 $, and $\epsilon$.
  Adam is very effective in optimizing problems that contains a large number 
  of trainable parameters. The value we set for $\alpha$ was 0.001 and the $\beta$ values 
  were set as default, i.e. 0.9 and 0.999. The loss function for our model was 
  the cross-entropy loss function which is quite popular in image classification tasks.
   
  
  \subsubsection{Testing \& Fine-Tuning}

  \subsection{Results}
\newpage
\appendix
% Show your external supervisor your report, especially the weekly upates; have them sign a printed copy of this page; scan the signed page; and include the scanned page in this document as an image.
\section{Documentation}
\newpage
\begin{center}
  {\Large\bf Khidmat Completion Form}\\[5pt]
  \small To be completed by the external supervisor.  
\end{center}
\bigskip

\noindent{\it Please use the space below to provide any comments you may have on the students' 
performance, the Khidmat program, or any other feedback you want to share with Habib 
University's Khidmat committee. We can also be reached 
at \href{mailto:khidmat@sse.habib.edu.pk}{khidmat@sse.habib.edu.pk}.}
\vfill

\begin{center}
  \rule{.8\textwidth}{.5pt}
\end{center}
\medskip

% Insert your name below.

I hereby certify that I supervised XXX and XXX for the Khidmat described in this report. 
Furthermore, that I have read and agree with the weekly updates included in this report.
My signature below marks the successful completion of the work undertaken for the Khidmat.\\
\bigskip
\bigskip

\noindent\begin{tabular}{@{}p{.6\textwidth}@{\hspace{.1\textwidth}}p{.3\textwidth}}
  \hrulefill \&   \hrulefill\\
  Name and signature & Location and date
\end{tabular}

\end{document}
